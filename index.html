<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>To-Do List App</title>
    <!-- Link your CSS file here if you have one -->
  </head>
  <body>
    <div id="app">
      <!-- Task Input and Management -->
      <form id="taskForm">
        <label for="taskName">Task Name:</label>
        <input type="text" id="taskName" required />
        <label for="dueDate">Due Date:</label>
        <input type="date" id="dueDate" />
        <button type="button" onclick="addTask()">Add Task</button>
      </form>

      <!-- Task Display and Interaction -->
      <div id="taskList"></div>
    </div>

    <script>
      // Task list array
      let tasks = [];

      // Function to add a new task
      function addTask() {
        const taskName = document.getElementById("taskName").value;
        const dueDate = document.getElementById("dueDate").value;

        if (taskName.trim() !== "") {
          const task = {
            name: taskName,
            dueDate: dueDate || "No due date",
            priority: "medium", // default priority
            status: "To-do", // default status
          };

          tasks.push(task);
          displayTasks();
          clearInputFields();
        } else {
          alert("Please enter a task name.");
        }
      }

      // Function to display tasks
      function displayTasks() {
        const taskListContainer = document.getElementById("taskList");
        taskListContainer.innerHTML = "";

        tasks.forEach((task, index) => {
          const taskItem = document.createElement("div");
          taskItem.classList.add("task-item");

          const taskInfo = document.createElement("div");
          taskInfo.innerHTML = `<strong>${task.name}</strong> (Due: ${task.dueDate})`;
          taskItem.appendChild(taskInfo);

          const editButton = document.createElement("button");
          editButton.innerText = "Edit";
          editButton.onclick = () => editTask(index);
          taskItem.appendChild(editButton);

          const deleteButton = document.createElement("button");
          deleteButton.innerText = "Delete";
          deleteButton.onclick = () => deleteTask(index);
          taskItem.appendChild(deleteButton);

          taskListContainer.appendChild(taskItem);
        });
      }

      // Function to edit a task
      function editTask(index) {
        const newTaskName = prompt("Enter new task name:");
        if (newTaskName !== null) {
          tasks[index].name = newTaskName;
          displayTasks();
        }
      }

      // Function to delete a task
      function deleteTask(index) {
        const confirmation = confirm(
          "Are you sure you want to delete this task?"
        );
        if (confirmation) {
          tasks.splice(index, 1);
          displayTasks();
        }
      }

      // Function to clear input fields after adding a task
      function clearInputFields() {
        document.getElementById("taskName").value = "";
        document.getElementById("dueDate").value = "";
      }

      // Initial display of tasks
      displayTasks();
    </script>
  </body>
</html>
